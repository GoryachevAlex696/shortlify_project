<% if @show_recommendations && current_user.following_ids.empty? %>
    <div class="recommendations-header">
      <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Shortlify! üëã</h2>
      <% if Post.from_other_users(current_user).exists? %>
        <p>–ù–µ —Ç–µ—Ä—è–π—Ç–µ –≤—Ä–µ–º–µ–Ω–∏, –∑–∞–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞! –ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –∞–≤—Ç–æ—Ä–æ–≤:</p>
      <% end %>
    </div>
<% end %>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π -->
<div class="posts-scroll-area">
  <!-- –û—Å–Ω–æ–≤–Ω–∞—è –ª–µ–Ω—Ç–∞ -->
  <div class="posts-container">
    <div class="posts-grid grid grid-cols-3 gap-1 mt-6">
    <div id="posts">
        <% @posts.each do |post| %>
          <turbo-frame id="post_<%= post.id %>" data-turbo-cache="false">
            <%= render partial: "posts/post_card", locals: { post: post, current_user: current_user } %>
          </turbo-frame>
        <% end %>
      </div>
    </div>
  </div>

  <!-- –ë–ª–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π -->
  <% if @show_recommendations && @recommended_posts.present? && current_user.following_ids.any? %>
    <div class="recommendations-section">
      <h3>–í–æ–∑–º–æ–∂–Ω–æ, –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è</h3>
      
      <div class="posts-container">
        <div class="posts-grid grid grid-cols-3 gap-1 mt-6">
          <% @recommended_posts.each do |post| %>
            <turbo-frame id="recommended_post_<%= post.id %>" data-turbo-cache="false">
              <%= render partial: "posts/post_card", locals: { post: post, current_user: current_user } %>
            </turbo-frame>
          <% end %>
        </div>
      </div>
    </div>
  <% end %>

  <% if @show_recommendations && Post.from_other_users(current_user).none? %>
    <div class="empty-state">
      <p>–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ—è–≤—è—Ç—Å—è –ø–æ–∑–∂–µ!</p>
    </div>
  <% end %>
</div>

<turbo-frame id="modal"></turbo-frame>